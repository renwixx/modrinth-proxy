# White Minecraft - Modrinth Proxy

Прокси-сервис для доступа к Modrinth API с территории России. Все файлы загружаются напрямую с официального Modrinth CDN.

## О проекте

White Minecraft - это прокси-сайт, который позволяет российским пользователям получить доступ к контенту Modrinth, обходя региональные ограничения. Мы не храним файлы у себя - все запросы идут напрямую к API Modrinth, а файлы скачиваются с официального CDN.

## Возможности

- **Полный доступ к Modrinth** - моды, плагины, шейдеры, ресурспаки, датапаки, модпаки
- **Прямые загрузки** - все файлы скачиваются напрямую с Modrinth CDN
- **Адаптивный дизайн** - работает на всех устройствах (ПК, планшет, телефон)
- **Продвинутые фильтры** - по версиям Minecraft, загрузчикам, категориям, релизным каналам
- **Соблюдение законодательства** - контент блокируется по требованиям РКН
- **Автоматическое перенаправление** - ссылки с modrinth.com автоматически конвертируются в локальные

## Деплой на Vercel

### Через GitHub (рекомендуется)

1. Загрузите проект на GitHub
2. Зайдите на [vercel.com](https://vercel.com)
3. Нажмите **Import Project**
4. Выберите ваш GitHub репозиторий
5. Vercel автоматически определит настройки Next.js
6. Нажмите **Deploy**

### Через Vercel CLI

```bash
npm install -g vercel
vercel login
vercel
```

## Локальная разработка

```bash
npm install
npm run dev
```

Откройте [http://localhost:3000](http://localhost:3000)

## Технологии

- **Next.js 14** (App Router) - React фреймворк с SSR/SSG
- **Tailwind CSS** - утилитарный CSS фреймворк
- **Modrinth API v2** - источник данных
- **React Markdown** - рендеринг описаний
- **Vercel** - хостинг и deployment

## Структура проекта

```
├── app/
│   ├── mods/                # Список модов
│   ├── mod/[slug]/          # Детальная страница мода
│   ├── plugins/             # Список плагинов
│   ├── plugin/[slug]/       # Детальная страница плагина
│   ├── shaders/             # Список шейдеров
│   ├── shader/[slug]/       # Детальная страница шейдера
│   ├── resourcepacks/       # Список ресурспаков
│   ├── resourcepack/[slug]/ # Детальная страница ресурспака
│   ├── datapacks/           # Список датапаков
│   ├── datapack/[slug]/     # Детальная страница датапака
│   ├── modpacks/            # Список модпаков
│   ├── modpack/[slug]/      # Детальная страница модпака
│   ├── components/          # Переиспользуемые компоненты
│   ├── layout.js            # Корневой layout
│   └── page.js              # Главная страница
├── lib/
│   ├── modrinth.js          # Функции для работы с Modrinth API
│   └── contentFilter.js     # Фильтрация контента по требованиям РКН
└── public/                  # Статические файлы
```

## Особенности реализации

### Структура URL

Списки (plural):
- `/mods` - список модов
- `/plugins` - список плагинов
- `/modpacks` - список модпаков

Детальные страницы (singular):
- `/mod/sodium` - страница конкретного мода
- `/plugin/simple-voice-chat` - страница конкретного плагина
- `/modpack/fabulously-optimized` - страница конкретного модпака

### Фильтрация контента

Сайт блокирует контент по требованиям Роскомнадзора через конфигурацию в `lib/contentFilter.js`:

**Блокировка проектов (по slug):**
```javascript
const BLACKLIST_PROJECTS = [
  'project-slug',
  // ...
]
```

**Блокировка организаций:**
```javascript
const BLACKLIST_ORGANIZATIONS = [
  'organization-id',
  // ...
]
```

**Блокировка слов:**
```javascript
const BLACKLIST_WORDS = [
  'blocked-word',
  // ...
]
```

Заблокированный контент:
- Не отображается в результатах поиска
- Показывается счетчик заблокированных элементов
- При попытке прямого доступа показывается страница с уведомлением
- Автоматически фильтруется на всех страницах сайта

### Кеширование

API запросы кешируются через встроенную систему Next.js (`revalidate`) для улучшения производительности:
- Списки проектов: 300 секунд (5 минут)
- Детали проектов: 600 секунд (10 минут)
- Версии проектов: 300 секунд (5 минут)

### Обработка ссылок

Все ссылки на Modrinth автоматически преобразуются в локальные:
- `modrinth.com/mod/sodium` → `/mod/sodium`
- `modrinth.com/plugin/vault` → `/plugin/vault`
- `modrinth.com/modpack/better-mc` → `/modpack/better-mc`

Это работает как в описаниях проектов, так и в changelog.

## Соответствие законодательству

Проект создан для предоставления доступа к контенту Minecraft пользователям из России с учетом требований российского законодательства. Мы блокируем контент, признанный нежелательным на территории РФ, и показываем прозрачную информацию о количестве заблокированных материалов.

## Разработка

Для добавления нового типа контента:
1. Создайте папку для списка (например, `app/newtypes/`)
2. Создайте папку для детальной страницы (например, `app/newtype/[slug]/`)
3. Добавьте компоненты фильтров (`SidebarFilters.js`, `MobileMenu.js`)
4. Обновите навигацию в `app/layout.js`
5. Добавьте обработку URL в `lib/contentFilter.js`

## Лицензия

MIT
